<html>
<head>
    <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
    <script type="text/javascript" src="earley-oop.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script type="text/javascript" src="script.js"></script>
    <!-- <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script> -->
</head>
<body>

<h1>Hypothesis Grammar Parser</h1>

<div id="grammar">
<div id="div1">
<h3>Non-terminal Production</h3>
<p name="Nontermial Symbol" id="test">
    root -> hypo <br/>
    hypo -> ( expr op expr ) [ pred ] | expr op expr | hypo & hypo <br/>
    expr -> func ( subexpr ) | var <br/>
    subexpr -> expr | subexpr , subexpr | _EPSILON_ <br/>
    var ->  attr | ( attr ) [ pred ] | const <br/>
    pred -> var op const | pred & pred <br/>
</p>
</div>

<div id="div1">
<h3>Terminal Production</h2>
<textarea name="Termial Symbol"  rows="10" id="tgrm">
op -> = | < | > 
attr -> Title | Year | Genre | Rating | Cost | Market
const -> number | string
func -> AVG | KS | LM | SRES | MAX | SUB | COUNT
</textarea>
</div>
</div>

<div id="FYI">
    <h3>FYI:</h3>
    <ol>
        <li>This is <a href="https://arxiv.org/abs/2204.14267">A Grammar for Hypothesis-Driven Visual Analysis</a></li>
        <li>This is a <a href="https://en.wikipedia.org/wiki/Context-free_grammar">Context Free Grammar</a></li>
        <li>Non-terminal Production is built-in and unchangable</li>
        <li>Terminal Production is changable</li>
        <li> _EPSILON_ means empty production</li>
        <li>"number" and "string" are terminal symbols </li>
        <li>"number" represents all numbers</li>
        <li>"string" represents everything included in quotes. For example, "The Godfather".</li>
      </ol>
</div>

<input type="text" size="80" id="txt"/>
<button class="button" role="button">Parse</button>
<br/>
<a href="#" class="example"> 1 = 2</a> <br/>
<a href="#" class="example"> 1 = str</a> <br/>
<a href="#" class="example"> 1 = 'string'</a> <br/>
<a href="#" class="example"> (Rating) [ Title = 'The Godfather' ] = 9.1</a> <br/>
<a href="#" class="example"> (Rating) [ Titl = 'The Godfather' ] = 9.1</a> <br/>
<a href="#" class="example"> (Rating)  Title = 'The Godfather' ] = 9.1</a> <br/>
<a href="#" class="example"> COUNT((Rating)[Title = 'The Godfather']) = 2</a> <br/>
<a href="#" class="example"> (COUNT() > 1) [Year=1999] & (COUNT() > 1) [Year=1999]</a> <br/>
<a href="#" class="example"> 
AVG ( (Cost) [ id = 2 ] , (Cost) [ Market = 'US' ] , (Cost) [ Market = 'US' ] ) 
= AVG ( (Cost) [ id = 2 ] , (Cost) [ Market = 'US' ] , (Cost) [ Market = 'US' ] )</a> <br/>
<a href="#" class="example"> SUB ( AVG ( Cost ) , AVG ( Market ) ) < 10</a> <br/>
<p id="p1"></p>
<div id="dv"></div>



